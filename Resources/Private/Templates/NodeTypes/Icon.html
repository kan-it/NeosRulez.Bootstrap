{namespace neos=Neos\Neos\ViewHelpers}
{namespace fusion=Neos\Fusion\ViewHelpers}
<div{attributes -> f:format.raw()}>
    <f:render section="IconWrap" arguments="{_all}" />
</div>
<f:section name="IconWrap">
    <f:if condition="{icon}">
        <f:then>
            <f:if condition="{link}">
                <f:then>
                    <a href="{link}" {f:if(condition: '{linktarget}', then: ' target="_blank"')}>
                        <div class="d-block text-{alignment}">
                            <f:render section="Icon" arguments="{_all}" />
                        </div>
                    </a>
                </f:then>
                <f:else>
                    <div class="d-block text-{alignment}">
                        <f:render section="Icon" arguments="{_all}" />
                    </div>
                </f:else>
            </f:if>
        </f:then>
    </f:if>
</f:section>
<f:section name="Icon">
    <i class="{icon}{f:if(condition: '{iconSize}', then: ' fa-{iconSize}')}"></i>
</f:section>